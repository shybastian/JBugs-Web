<body>
<form class="createUserStyle" #addUserForm="ngForm" (ngSubmit)="addUser(addUserForm)">

  <div class="form-group">
    <label for="firstName">{{'ADD_USER.FIRST_NAME' | translate}}</label>
    <input
      required
      pattern="^[A-ZÜÄÖÂÎĂȚȘ][a-zA-Zșțăîâäöüß]*"
      minlength="3"
      maxlength="14"
      class="form-control"
      type="text"
      id="firstName"
      name="firstName"
      ngModel
      #firstName="ngModel"
      [(ngModel)]="firstNameValue"
    >
    <div class="alert alert-danger" *ngIf="firstName.touched && firstName.invalid">
      <div *ngIf="firstName.errors.required">
        {{'ADD_USER.ALERT_FIRSTNAME_REQUIRED' | translate}}
      </div>
      <div *ngIf="firstName.errors.minlength || firstName.errors.maxlength">
        {{'ADD_USER.ALERT_FIRSTNAME_DIMENSION' | translate}}
      </div>
      <div *ngIf="firstName.errors.pattern">
        {{'ADD_USER.ALERT_FIRSTNAME_INCORRECT' | translate}}
      </div>
    </div>
  </div>


  <div class="form-group">
    <label for="lastName">{{'ADD_USER.LAST_NAME' | translate}}</label>
    <input
      required
      pattern="^[A-ZÜÄÖÂÎĂȚȘ][a-zA-Zșțăîâäöüß]*"
      minlength="3"
      maxlength="14"
      class="form-control"
      type="text"
      id="lastName"
      name="lastName"
      ngModel
      #lastName="ngModel"
      [(ngModel)]="lastNameValue"
    >
    <div class="alert alert-danger" *ngIf="lastName.touched && lastName.invalid">
      <div *ngIf="lastName.errors.required">
        {{'ADD_USER.ALERT_LASTNAME_REQUIRED' | translate}}
      </div>
      <div *ngIf="lastName.errors.minlength || lastName.errors.maxlength">
        {{'ADD_USER.ALERT_LASTNAME_DIMENSION' | translate}}
      </div>
      <div *ngIf="lastName.errors.pattern">
        {{'ADD_USER.ALERT_LASTNAME_INCORRECT' | translate}}
      </div>
    </div>

  </div>


  <div class="form-group">
    <label for="phone">{{'ADD_USER.PHONE' | translate}}</label>
    <input
      pattern="((^(\+4|)?(07[0-8]{1}[0-9]{1}|02[0-9]{2}|03[0-9]{2}){1}?(\s|\.|-)?([0-9]{3}(\s|\.|-|)){2}$)|(\(?\+\(?49\)?[()]?([()]?\d[()]?){10}))"
      required
      class="form-control"
      type="text"
      id="phone"
      name="phone"
      ngModel
      #phone="ngModel"
      [(ngModel)]="phoneValue"
    >
    <div class="alert alert-danger" *ngIf="phone.touched && phone.invalid">
      <div *ngIf="phone.errors.required">
        {{'ADD_USER.ALERT_PHONE_REQUIRED' | translate}}
      </div>
      <div *ngIf="phone.errors.pattern">
        {{'ADD_USER.ALERT_PHONE_INCORRECT' | translate}}
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="email">{{'ADD_USER.EMAIL' | translate}}</label>
    <input
      pattern="^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@msggroup.com$"
      required
      class="form-control"
      type="text"
      id="email"
      name="email"
      ngModel
      #email="ngModel"
      [(ngModel)]="emailValue"
    >
    <div class="alert alert-danger" *ngIf="email.touched && email.invalid">
      <div *ngIf="email.errors.required">
        {{'ADD_USER.ALERT_EMAIL_REQUIRED' | translate}}
      </div>
      <div *ngIf="email.errors.pattern">
        {{'ADD_USER.ALERT_EMAIL_INCORRECT' | translate}}
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="roles">{{'ADD_USER.ROLES' | translate}}</label>
    <br>
    <p-multiSelect
      id="roles"
      [options]="roles"
      [(ngModel)]="selectedRoles"
      optionLabel="type"
      name="roles"
      (onChange)="handleSelectionChange($event)">
    </p-multiSelect>
    <div class="alert alert-info" *ngIf="showMultiselectRequiredMessage">
      {{'ADD_USER.ALERT_ROLES_REQUIRED' | translate}}
    </div>
  </div>


  <button class="btn btn-primary"
          [disabled]="addUserForm.invalid || showMultiselectRequiredMessage">{{'ADD_USER.ADD' | translate}}</button>

</form>
</body>
